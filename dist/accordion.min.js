class Accordion{constructor(element,options={}){this.accordion=element;this._config={multiple:options.multiple||false,defaultOpen:options.defaultOpen||[],animationDuration:options.animationDuration||300,onToggle:options.onToggle||null};if(!document.querySelector("#accordion-default-styles")){this._injectDefaultStyles()}this._init()}_injectDefaultStyles(){const styles=`\n    :root {\n      /* Palette de base */\n      --color-white: #ffffff;\n      --color-black: #000000;\n      --color-dark-purple: #1a1425;\n      --color-light-pink: #fdf2f8;\n      --color-pink-200: #fce7f3;\n      --color-pink-300: #fbcfe8;\n      --color-dark-base: #1e1520;\n      \n      /* Accents */\n      --color-accent-500: #831843;\n      --color-accent-400: #9d174d;\n      --color-accent-300: #db2777;\n      --color-accent-200: #f9a8d4;\n      --color-accent-100: #fda4af;\n      \n      /* Textes */\n      --color-text-light: var(--color-accent-400);\n      --color-text-dark: var(--color-pink-200);\n      \n      /* Bordures */\n      --color-border-light-rgb: 251, 207, 232;\n      --color-border-dark-rgb: 219, 39, 119;\n      --color-border-alpha-light: 0.9;\n      --color-border-alpha-dark: 0.2;\n      --color-border-light: rgba(var(--color-border-light-rgb), var(--color-border-alpha-light));\n      --color-border-dark: rgba(var(--color-border-dark-rgb), var(--color-border-alpha-dark));\n      --color-border-active: transparent;\n      \n      /* Ombres */\n      --color-shadow-alpha-light: 0.03;\n      --color-shadow-alpha-dark: 0.2;\n      --color-shadow-light: rgba(var(--color-border-dark-rgb), var(--color-shadow-alpha-light));\n      --color-shadow-dark: rgba(var(--color-black), var(--color-shadow-alpha-dark));\n      --color-shadow-white-alpha: 0.6;\n      --color-inset-shadow-light: rgba(var(--color-border-dark-rgb), 0.02);\n      \n      /* Icônes */\n      --color-icon-background-alpha-light: 0.4;\n      --color-icon-hover-alpha-light: 0.1;\n      --color-icon-active-alpha-light: 0.15;\n      --color-icon-background-alpha-dark: 0.15;\n      --color-icon-hover-alpha-dark: 0.25;\n      --color-icon-active-alpha-dark: 0.3;\n      \n      /* Dégradés */\n      --color-gradient-start-light: var(--color-white);\n      --color-gradient-end-light: var(--color-light-pink);\n      --color-gradient-start-dark: var(--color-dark-base);\n      --color-gradient-end-dark: var(--color-dark-purple);\n      --color-gradient-button-light: linear-gradient(135deg, var(--color-gradient-start-light) 0%, var(--color-gradient-end-light) 100%);\n      --color-gradient-button-dark: linear-gradient(135deg, var(--color-gradient-start-dark) 0%, var(--color-gradient-end-dark) 100%);\n      --color-gradient-content-light: linear-gradient(180deg, var(--color-gradient-start-light) 0%, var(--color-gradient-end-light) 100%);\n      --color-gradient-content-dark: linear-gradient(180deg, var(--color-gradient-start-dark) 0%, var(--color-gradient-end-dark) 100%);\n      --color-gradient-border-light: linear-gradient(135deg, rgba(var(--color-border-light-rgb), 0.125), rgba(var(--color-border-dark-rgb), 0.125));\n      --color-gradient-border-dark: linear-gradient(135deg, rgba(251, 113, 133, 0.188), rgba(225, 17, 120, 0.188));\n      \n      /* Effets */\n      --color-focus-ring: var(--color-accent-200);\n    }\n\n    .accordion-wrapper {\n      max-width: 1200px;\n      margin: 2.5rem auto;\n      font-family: 'Inter', system-ui, -apple-system, sans-serif;\n      padding: 0 2rem;\n      perspective: 1000px;\n    }\n\n    .accordion-item {\n      margin-bottom: 1.25rem;\n      transform-origin: top center;\n      transition: all 0.4s cubic-bezier(0.2, 0.8, 0.2, 1);\n    }\n\n    .accordion-item:hover {\n      transform: scale(1.01);\n    }\n\n    .accordion-button {\n      width: 100%;\n      background: var(--color-gradient-button-light);\n      color: var(--color-accent-500);\n      padding: 1.25rem;\n      border: 1px solid var(--color-border-light);\n      border-radius: 12px;\n      cursor: pointer;\n      display: flex;\n      align-items: center;\n      justify-content: space-between;\n      font-weight: 600;\n      font-size: 0.925rem;\n      letter-spacing: -0.01em;\n      transition: all 0.4s cubic-bezier(0.2, 0.8, 0.2, 1);\n      position: relative;\n      outline: none;\n      box-shadow:\n        0 4px 6px -1px var(--color-shadow-light),\n        0 2px 4px -1px var(--color-shadow-light),\n        0 1px 0 rgba(var(--color-white), var(--color-shadow-white-alpha)) inset;\n    }\n\n    .accordion-button::before {\n      content: '';\n      position: absolute;\n      inset: 0;\n      border-radius: 12px;\n      padding: 2px;\n      background: var(--color-gradient-border-light);\n      -webkit-mask: \n        linear-gradient(var(--color-white) 0 0) content-box, \n        linear-gradient(var(--color-white) 0 0);\n      mask: \n        linear-gradient(var(--color-white) 0 0) content-box, \n        linear-gradient(var(--color-white) 0 0);\n      -webkit-mask-composite: xor;\n      mask-composite: exclude;\n      opacity: 0;\n      transition: opacity 0.4s ease;\n    }\n\n    .accordion-button:hover {\n      background: linear-gradient(135deg, var(--color-gradient-start-light) 0%, var(--color-pink-200) 100%);\n      transform: translateY(-1px);\n      box-shadow:\n        0 8px 16px -4px var(--color-shadow-light),\n        0 4px 6px -2px var(--color-shadow-light),\n        0 1px 0 rgba(var(--color-white), var(--color-shadow-white-alpha)) inset;\n    }\n\n    .accordion-button:hover::before {\n      opacity: 1;\n    }\n\n    .accordion-button:focus-visible {\n      box-shadow:\n        0 0 0 2px var(--color-white),\n        0 0 0 4px var(--color-focus-ring);\n    }\n\n    .accordion-button.active {\n      background: linear-gradient(135deg, var(--color-light-pink) 0%, var(--color-pink-200) 100%);\n      border-bottom-left-radius: 0;\n      border-bottom-right-radius: 0;\n      border-bottom-color: var(--color-border-active);\n    }\n\n    .accordion-icon {\n      color: var(--color-accent-500);\n      transition: all 0.4s cubic-bezier(0.2, 0.8, 0.2, 1);\n      font-size: 1rem;\n      width: 28px;\n      height: 28px;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      border-radius: 6px;\n      background-color: rgba(var(--color-border-light-rgb), var(--color-icon-background-alpha-light));\n    }\n\n    .accordion-button:hover .accordion-icon {\n      background-color: rgba(var(--color-border-dark-rgb), var(--color-icon-hover-alpha-light));\n      transform: scale(1.05);\n    }\n\n    .accordion-button.active .accordion-icon {\n      transform: rotate(90deg) scale(1.05);\n      background-color: rgba(var(--color-border-dark-rgb), var(--color-icon-active-alpha-light));\n      color: var(--color-text-light);\n    }\n\n    .accordion-content {\n      background: var(--color-gradient-content-light);\n      border: 1px solid var(--color-border-light);\n      border-top: none;\n      border-bottom-left-radius: 12px;\n      border-bottom-right-radius: 12px;\n      overflow: hidden;\n      max-height: 0;\n      opacity: 0;\n      transform: translateY(-8px);\n      transition: all 0.4s cubic-bezier(0.2, 0.8, 0.2, 1);\n    }\n\n    .accordion-content.active {\n      opacity: 1;\n      transform: translateY(0);\n      box-shadow:\n        inset 0 2px 4px var(--color-inset-shadow-light),\n        0 4px 6px var(--color-inset-shadow-light);\n    }\n\n    .accordion-body {\n      color: var(--color-text-light);\n      line-height: 1.6;\n      padding: 1.25rem;\n      font-size: 0.875rem;\n    }\n\n    @media (prefers-color-scheme: dark) {\n      .accordion-button {\n        background: var(--color-gradient-button-dark);\n        color: var(--color-text-dark);\n        border-color: var(--color-border-dark);\n        box-shadow:\n          0 4px 6px -1px var(--color-shadow-dark),\n          0 2px 4px -1px var(--color-shadow-dark);\n      }\n\n      .accordion-button::before {\n        background: var(--color-gradient-border-dark);\n      }\n\n      .accordion-button:hover {\n        background: linear-gradient(135deg, var(--color-gradient-start-dark) 0%, var(--color-gradient-end-dark) 100%);\n      }\n\n      .accordion-content {\n        background: var(--color-gradient-content-dark);\n        border-color: var(--color-border-dark);\n      }\n\n      .accordion-body {\n        color: var(--color-text-dark);\n      }\n\n      .accordion-icon {\n        background-color: rgba(var(--color-border-dark-rgb), var(--color-icon-background-alpha-dark));\n        color: var(--color-accent-100);\n      }\n\n      .accordion-button:hover .accordion-icon {\n        background-color: rgba(var(--color-border-dark-rgb), var(--color-icon-hover-alpha-dark));\n      }\n\n      .accordion-button.active .accordion-icon {\n        background-color: rgba(var(--color-border-dark-rgb), var(--color-icon-active-alpha-dark));\n      }\n    }\n  `;const styleSheet=document.createElement("style");styleSheet.id="accordion-default-styles";styleSheet.type="text/css";styleSheet.innerHTML=styles;document.head.appendChild(styleSheet)}_init(){this.buttons=this.accordion.querySelectorAll(".accordion-button");this.panels=this.accordion.querySelectorAll(".accordion-content");this._setupAccordion();this._config.defaultOpen.forEach((index=>{if(this.buttons[index]){this._open(this.buttons[index])}}))}_setupAccordion(){this.buttons.forEach(((button,index)=>{const panelId=`accordion-panel-${index}`;button.setAttribute("aria-controls",panelId);button.setAttribute("id",`accordion-button-${index}`);const panel=button.nextElementSibling;panel.setAttribute("id",panelId);panel.setAttribute("role","region");panel.setAttribute("aria-labelledby",`accordion-button-${index}`);button.addEventListener("click",(e=>this._togglePanel(e)));button.addEventListener("keydown",(e=>this._handleKeydown(e)))}))}_togglePanel(event){const button=event.currentTarget;const isExpanded=button.getAttribute("aria-expanded")==="true";if(!this._config.multiple){this.closeAll()}if(isExpanded){this._close(button)}else{this._open(button)}if(this._config.onToggle){this._config.onToggle(button,!isExpanded)}}_open(button){const panel=button.nextElementSibling;const panelBody=panel.querySelector(".accordion-body");button.classList.add("active");button.setAttribute("aria-expanded","true");panel.classList.add("active");panel.style.maxHeight=`${panelBody.offsetHeight}px`}_close(button){const panel=button.nextElementSibling;button.classList.remove("active");button.setAttribute("aria-expanded","false");panel.classList.remove("active");panel.style.maxHeight="0"}_handleKeydown(event){const button=event.target;const index=Array.from(this.buttons).indexOf(button);switch(event.key){case"ArrowDown":event.preventDefault();if(index<this.buttons.length-1){this.buttons[index+1].focus()}break;case"ArrowUp":event.preventDefault();if(index>0){this.buttons[index-1].focus()}break;case"Home":event.preventDefault();this.buttons[0].focus();break;case"End":event.preventDefault();this.buttons[this.buttons.length-1].focus();break}}closeAll(){this.buttons.forEach((button=>{if(button.getAttribute("aria-expanded")==="true"){this._close(button)}}))}updateColors(newColors){const root=document.documentElement;for(const[key,value]of Object.entries(newColors)){root.style.setProperty(key,value)}}}